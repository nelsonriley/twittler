<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </head>
  <body>
  	
    <div class="jumbotron">
      <h1>Twittler</h1>
      <p>Following 4 Users - Viewing 198 Twitts</p>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <h2>Twitts</h2>
        </div>
        <div class="col-md-8">
            <ul class="list-group all-twitts">
              <!-- tweet template -->
              <li class="list-group-item">
                <a href="#">@<span class="user">user</span></a>
                <span class="date">date</span>
                <p class="message">tweet</p>
              </li>
            </ul>
        </div>
        <div class="col-md-4">
          	<h2><span class="selected-user">@user</span> Twitts</h2>
        </div>
        <div class="col-md-4">
            <ul class="list-group user-twitts">
            </ul>
        </div>
      </div>
    </div>
    
    <script>
	// Requirements:
	// 1) Show user new tweets automatically as they're created (or with a refresh button)
	// 2) Display the timestamps of when the tweets were created
	// 3) Make it pretty
	// 4) Allow the user to click on a username to see that user's timeline
		// extra credit: see curriculum
		
	// new tweets are pushed to the end of the array

      $(document).ready(function(){
        var $twitts = $('.all-twitts');
        $twitts.html('');

		var tweetCount = 0;
		var addNewTweets = function() {
          var index = streams.home.length - 1;
          while(index >= tweetCount){
            var tweet = streams.home[index];
            var $tweet = $('<li class=\"list-group-item tweet\"></li>');
            
            var $user = $('<a href=\"#\">@<span class=\"user\">' + tweet.user + '</span></a>');
            $user.appendTo($tweet);
            var $date = $('<span class=\"date\"> ' + tweet.created_at + '</span>');
            $date.appendTo($tweet);
            var $message =  $('<p class=\"message\"> ' + tweet.message + '</p>');
            $message.appendTo($tweet);
            
            $tweet.prependTo($twitts);
            index -= 1;
          }
          tweetCount = $twitts.find('.tweet').length;
          setTimeout(addNewTweets, 1000);
		}
		addNewTweets();
		
      });

    </script>
  </body>
</html>
